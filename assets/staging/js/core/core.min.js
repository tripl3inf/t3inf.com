/**
 * custom animations
 */

window.onload = function() {
	// graphic logo
	var infContainer = Snap("#svg");
	var infShape = infContainer.path("M120.494,48.498L78.206,92.263l-44.01,46.517c0,0-2.391,7.661-6.332,16.924  c-3.886,9.127-9.268,19.814-16.747,32.737c-0.108,0.187-0.21,0.371-0.323,0.562l99.053-104.62 c-0.022-19.658,7.807-37.459,25.413-51.429c33.147-26.302,81.334-20.76,107.64,12.381c26.299,33.14,20.758,81.333-12.388,107.632 c0,0-38.852,38.449-94.059,8.637c-69.605-40.01-56.28-113.376-37.061-147.707l-79.911,83.27");

	var infShape2 = infShape.clone();

	infShape.transform( 't165,56');

	//var f = infContainer.filter(Snap.filter.shadow(0, 0, 0.5, 'green'));

	var infContainer = infContainer.group(infShape,infShape2)
	.attr({
		//filter: f,
	    fill: "none",
	    //fill: "r()#fff-#000",
	    strokeWidth: 5,
	    stroke: "green"
	  });

	
	//var inter = Snap.path.intersection(infShape,infShape2);
	//console.log('inter'+inter);
	 //inter.attr({opacity:0});
	infShape2.attr({
			transform: "r180"
		});

	infContainer.attr({
			'stroke-dasharray': 1050,
			'stroke-dashoffset': 1050
	});
	infContainer.attr({transform: "r-8,s2,t100,100"});

	console.log( 'total length' + Snap.path.getTotalLength( infShape ));

	var animPath = function(path, time){
	    	pathLength = Snap.path.getTotalLength( path );
	    	//console.log(pathLength);

	  var pathTL = new TimelineLite({paused:true});
	  pathTL.add( TweenLite.set( path.node, {opacity:0, strokeDasharray:pathLength, strokeDashoffset:pathLength, onComplete:animate}) );

	  //blurNode = $("feGaussianBlur");
	  
	  function animate() {
		pathTL.to(path.node, 3, {opacity:1}, 'stage1' );
	    pathTL.add( TweenLite.to(path.node, time, {strokeDashoffset:0}), 'stage1' );
	    	pathTL.add( TweenLite.to(path.node, 2, {opacity:0,delay:2}));
	    	pathTL.play();
	    };
	  };


	// tripl3infinity text letter variables
	var t3iTxt = Snap("#t3iTxt");
	 t1 = t3iTxt.path("M27.229,24.623v13.919h15.12v8.04h-15.12V77.9c0,7.2,2.04,11.28,7.92,11.28c2.88,0,4.56-0.24,6.12-0.72 l0.48,8.04c-2.04,0.72-5.28,1.44-9.36,1.44c-4.919,0-8.879-1.68-11.399-4.44c-2.88-3.24-4.08-8.399-4.08-15.239V46.582h-9v-8.04h9 V27.743L27.229,24.623z");
	 r1 = t3iTxt.path("M52.229,56.661c0-6.839-0.12-12.719-0.48-18.119h9.239l0.48,11.52h0.36c2.64-7.8,9.12-12.719,16.199-12.719 c1.08,0,1.92,0.12,2.88,0.24v9.959c 1.08-0.24-2.16-0.24-3.6-0.24c 7.439,0-12.719,5.52-14.159,13.439 c-0.24,1.44-0.36,3.24-0.36,4.919V96.62h-10.56V56.661z");
	 i1 = t3iTxt.path("M101.708,22.223c0,3.6-2.52,6.48-6.72,6.48c-3.84,0-6.36-2.88-6.36-6.48s2.64-6.6,6.6-6.6 C99.068,15.623,101.708,18.503,101.708,22.223z M89.948,96.62V38.542h10.56V96.62H89.948z");
	 p1_in = t3iTxt.path("M111.027,57.501c0-7.44-0.24-13.439-0.48-18.959h9.359l0.6,9.959h0.24c4.2-7.08,11.159-11.159,20.639-11.159 c14.16,0,24.719,11.879,24.719,29.398c0,20.879-12.839,31.199-26.519,31.199c-7.68,0-14.399-3.36-17.879-9.12h-0.24v31.559h-10.439 V57.501z");
	 p1_out = t3iTxt.path("M121.467,72.98c0,1.56,0.12,3,0.48,4.32c1.92,7.32,8.28,12.359,15.839,12.359c11.16,0,17.639-9.119,17.639-22.439 c0-11.52-6.12-21.479-17.279-21.479c-7.2,0-14.04,5.04-15.959,12.959c-0.36,1.32-0.72,2.88-0.72,4.2V72.98z");
	 l1 = t3iTxt.path("M174.306,11.423h10.56V96.62h-10.56V11.423z");
	 three = t3iTxt.path("M196.523,91.676c3,1.92,9.959,4.92,17.279,4.92c13.559,0,17.759-8.641,17.639-15.12 c-0.12-10.919-9.959-15.599-20.159-15.599h-5.88v-7.92h5.88c7.68,0,17.399-3.96,17.399-13.199c0-6.24-3.959-11.76-13.679-11.76 c-6.24,0-12.24,2.76-15.599,5.159l-2.76-7.68c4.08-2.999,12-5.999,20.399-5.999c15.359,0,22.319,9.119,22.319,18.599 c0,8.04-4.8,14.88-14.399,18.359v0.24c9.6,1.92,17.399,9.119,17.399,20.039c0,12.479-9.72,23.399-28.439,23.399 c-8.759,0-16.439-2.76-20.279-5.28L196.523,91.676z");
	 i2 = t3iTxt.path("M265.683,22.223c0,3.6-2.52,6.48-6.72,6.48c3.84,0-6.359-2.88-6.359-6.48s2.64-6.6,6.6-6.6C263.043,15.623,265.683,18.503,265.683,22.223z M253.923,96.62V38.542h10.56V96.62H253.923z");
	 n1 = t3iTxt.path("M275.002,54.261c0-6.12-0.12-10.919-0.48-15.719h9.359l0.6,9.6h0.24c2.88-5.4,9.6-10.799,19.199-10.799c8.04,0,20.52,4.8,20.52,24.719V96.62h-10.56V63.141c0-9.36-3.48-17.159-13.439-17.159c-6.84,0-12.24,4.919-14.16,10.799 c-0.48,1.32-0.72,3.12-0.72,4.92V96.62h-10.56V54.261z");
	 fi1 = t3iTxt.path("M337.682,96.62V46.582h-8.04v-8.04h8.04v-3.24c0-15.239,9-25.199,25.318-25.199c5.4,0,11.76,1.68,14.76,3.84l-3,8.04c-2.64-1.8-7.08-3.36-12.239-3.36c-11.16,0-14.399,7.8-14.399,17.04v2.88h33.719V96.62h-10.56V46.582h-23.159V96.62H337.682z");
	 n2 = t3iTxt.path("M392.361,54.261c0-6.12-0.12-10.919-0.48-15.719h9.36l0.6,9.6h0.24c2.88-5.4,9.6-10.799,19.199-10.799 c8.039,0,20.519,4.8,20.519,24.719V96.62h-10.56V63.141c0-9.36-3.479-17.159-13.439-17.159c-6.839,0-12.239,4.919-14.159,10.799 c-0.479,1.32-0.72,3.12-0.72,4.92V96.62h-10.56V54.261z");
	 i3 = t3iTxt.path("M463.721,22.223c0,3.6-2.521,6.48-6.72,6.48c-3.84,0-6.36-2.88-6.36-6.48s2.641-6.6,6.6-6.6 C461.08,15.623,463.721,18.503,463.721,22.223z M451.961,96.62V38.542h10.56V96.62H451.961z");
	 t2 = t3iTxt.path("M490.76,24.623v13.919h15.119v8.04H490.76V77.9c0,7.2,2.039,11.28,7.919,11.28c2.88,0,4.561-0.24,6.12-0.72l0.48,8.04c-2.04,0.72-5.28,1.44-9.36,1.44c-4.92,0-8.88-1.68-11.399-4.44c-2.88-3.24-4.08-8.399-4.08-15.239V46.582h-8.999v-8.04 h8.999V27.743L490.76,24.623z");
	 y1 = t3iTxt.path("M524.678,38.542l12.6,34.319c1.439,3.84,2.88,8.399,3.84,11.879h0.24c1.079-3.48,2.279-7.92,3.72-12.12 l11.52-34.079h11.159l-15.84,41.398c-7.56,19.919-12.719,29.999-19.919,36.358c-5.279,4.439-10.319,6.24-12.959,6.719l-2.64-8.759 c2.64-0.84,6.119-2.52,9.239-5.16c2.88-2.28,6.359-6.36,8.88-11.76c0.479-1.08,0.84-1.92,0.84-2.52c0-0.6-0.24-1.44-0.84-2.76 l-21.359-53.518H524.678z");

	var t3iTxt_group = [t1,r1,i1,p1_in,p1_out,l1,three,i2,n1,fi1,n2,i3,t2,y1];
	/*var text = t3iTxt.text(200, 100, "Snap.svg")
	.attr({
		fill: "red",
		strokeWidth: 3
	});
*/
	t3iTxt.attr({
		fill: "none",
		strokeWidth: 3,
		stroke: 'white'
	});



	var animLetter = function(path, time, delay){
    	pathLength = Snap.path.getTotalLength( path );
    	//console.log(pathLength);

	  var pathTL = new TimelineLite({paused:true,delay:2.5});
	  pathTL.add( TweenLite.set( path.node, {strokeDasharray:pathLength, strokeDashoffset:pathLength, onComplete:animate}) );

	  function animate() {
	    	pathTL.add( TweenLite.to(path.node, time, {strokeDashoffset:0,delay:delay}) );
	    	pathTL.add( TweenLite.to(t3iTxt.node, 1.5, {opacity:0,delay:3}) );
	    	pathTL.play();

	  }
  };

  
  animPath( infShape, 4);
  animPath( infShape2, 4);
  
  animLetter( t1, 1.5, 1);
  animLetter( r1, 1.5, 1.2);
  animLetter( i1, 1.5, 1.4);
  animLetter( p1_in, 1.5, 1.6);
  animLetter( p1_out, 1, 1.6);
  animLetter( l1, 1.5, 1.8);
  animLetter( three, 1.5, 2);
  animLetter( i2, 1.5, 2.2);
  animLetter( n1, 1.5, 2.4);
  animLetter( fi1, 1.5, 2.6);
  animLetter( n2, 1.5, 2.8);
  animLetter( i3, 1.5, 3);
  animLetter( t2, 1.5, 3.2);
  animLetter( y1, 1.5, 3.4);


};
/**
 * function gridOvrlay(){var a=[];jQuery("body").append('<p id="gridBtnWrap">ovrLay:&nbsp;<input id="gridBtn" type="checkbox"></p>');for(i=0;16>i;i++)a.push('<div class="GridOvlColumn"></div>');jQuery("body").append('<div id="gridOverlay">');jQuery("#wrap").append('<div id="ovrLayContainer">');jQuery("#ovrLayContainer").append(a);jQuery("#gridBtnWrap").css({position:"fixed",display:"block",top:"20px",right:"20px","z-index":"999999999",color:"green"});jQuery(".GridOvlColumn").css({"background-color":"#008000", display:"block",height:"100%",width:"40px","margin-left":"10px","margin-right":"10px","float":"left"});jQuery("#ovrLayContainer").css({height:"100%",position:"fixed",top:"0",width:"100%",opacity:"0","z-index":"9999999"});jQuery("#gridBtn").click(function(){jQuery(this).is(":checked")||jQuery("#ovrLayContainer").animate({opacity:0});jQuery(this).is(":checked")&&jQuery("#ovrLayContainer").animate({opacity:0.3})})}jQuery(function(){gridOvrlay()});
 */

function gridOvrlay() {

	var grid = [];
	var column ='<div class="one column GridOvlColumn"></div>';
	var ovrLay = '<div id="gridOverlay">';
	var onOffBtn = '<p id="gridBtnWrap">ovrLay:&nbsp;<input id="gridBtn" type="checkbox"></p>';

	jQuery('body').append(onOffBtn);

	for (i = 0; i < 16; i++) {
	   grid.push(column);
	}

	jQuery('body').append(ovrLay);
	jQuery('#wrap').append('<div id="ovrLayContainer" class="container">');
	jQuery('#ovrLayContainer').append(grid);

	jQuery('#gridBtnWrap').css({
	    'position': 'fixed',
	    'display': 'block',
	    'top': '20px',
	    'right':'20px',
	    'z-index': '999999999',
	    'color':'green'});

	jQuery('.GridOvlColumn').css({
	    'background-color': '#008000',
	    'display': 'block',
	    'height': '100%',
	    'float': 'left'});

	jQuery('#ovrLayContainer').css({
	    'height': '100%',
	    'position': 'absolute',
	    'top': '0',
	    'width': '100%',
	    'opacity': '0',
	    'z-index': '-999999'});

	jQuery('#gridBtn').click(function() {
	    if ( !jQuery(this).is(':checked') )  {
			jQuery('#ovrLayContainer').animate({'opacity':0});
			jQuery('#ovrLayContainer').css('z-index',-9999999999);

	    }
	    if ( jQuery(this).is(':checked') )  {
	    	jQuery('#ovrLayContainer').css('z-index',9999999999);
	        jQuery('#ovrLayContainer').animate({'opacity':.3});
	    }
	});
}

jQuery(function() {
	gridOvrlay();
});
jQuery.noConflict();
(function($) {
	// animate main nav btns
	$.fn.animTxtBtn = function(){
		var letter = this.children();
		var mainBtn_TL = new TimelineMax();

		mainBtn_TL.staggerFromTo( letter, 2, {scale:3, rotationX:-180}, {scale:1, rotationX:0}, 0.4, "phase1");
		mainBtn_TL.staggerTo( letter, 2, {opacity:1}, 0.4, "phase1");

		this.hover(
			function () {
				TweenLite.to( this, 0.5, {scale:1.2});
				//TweenLite.to( this, 0.5, {scale:1.2});
				//TweenLite.to( letter, 0.5, {scale:1.2});
			},
			function () {
				TweenLite.to( this, 0.5, {scale:1});
				//TweenLite.to( this, .5, {scale:1});
				//TweenLite.to( letter, 0.5, {scale:1});
			}
		);
	};
	// END animate main nav btns

	// background overlay
	function bgFade(direction){
		var bgOverlay = $('<div class="bgOverlay"></div>');
		if ( direction == 'in' ) {
			$('body').prepend(bgOverlay);
			TweenLite.to( $('.bgOverlay'), 1, {autoAlpha:.8});
		}
		else if ( direction == 'out' ) {
			function rmOverlay() {
				$('.bgOverlay').remove();
			}
			TweenLite.to( $('.bgOverlay'), 1, {autoAlpha:0, onComplete:rmOverlay});
		}
	};
	// END background overlay


	$(document).ready(function () {
		// paralax
		parallax.add( jQuery('#index'))
		.add( jQuery('#portfolio'))
		.add( jQuery('#contact'));

		parallax.background = ("body");
		parallax.scaling = 0.4;

		parallax.portfolio.show();

		$('#portBtn').click(function() {
			parallax.portfolio.right();
		});

		$('#contactBtn').click(function() {
			parallax.contact.left();
		});


		$('.navArrow.contact').click(function(event) {
			TweenLite.to( $(this) , 1, {autoAlpha:0, onStart:rtrnHome, onComplete:restoreArw} );
			function rtrnHome() {
				parallax.index.right();
			}
			function restoreArw() {
				TweenLite.set( $('#contactArw'), {autoAlpha:1});
			}
			bgFade('out');
		});

		$('#portfolioArw').click(function() {
			parallax.index.left();
			bgFade('out');
		});

		parallax.index.preload = function(){
			bgFade('out');
	    };

		parallax.contact.preload = function(){
			bgFade('in');
	    };

	    parallax.portfolio.preload = function(){
			bgFade('in');
	    };

		// END paralax


	});



	$(window).load(function() {
		$('#contactBtn').animTxtBtn();
		$('#portBtn').animTxtBtn();
	});
})
(jQuery);





// Contact Form
jQuery.noConflict();
(function($) {

	var contactSubmt = new TimelineLite({paused:true});
	contactSubmt.to( $('#contactForm'), 1, {autoAlpha:0}, 'stage1');
	contactSubmt.to( $('.navArrow.contact'), 1, {autoAlpha:0, onStart:goHome}, 'stage1');
	function goHome() {
		parallax.index.right();
		TweenLite.set( $('#contactForm'), {autoAlpha:1});
		TweenLite.set( $('.navArrow.contact'), {autoAlpha:1});
	}


	$('#submit').click(function(event){
		$.post("/content/themes/t3i_Skeleton/contact.php", jQuery("#contactForm").serialize(),  function(response) {

			contactSubmt.play();
			$('#index').append(response);
			TweenLite.to( $('#formSuccessMsg'), 0.8, {autoAlpha:1, delay:0.8, onComplete:fadeOut});

			function fadeOut() {
				TweenLite.to( $('#formSuccessMsg'), 1.2, {autoAlpha:0, delay:1});
			}
		});
		return false;
	});


	// portfolio
/*	function portfolio() {

		var port = $('#portfolio');
		var item = port.children('.item');

		var port_TL = new TimelineLite({paused:true});
		port_TL.set( item, {autoAlpha:0});
	}
	*/





});
(jQuery);




jQuery( document ).ready(function( $ ) {
//jQuery(function() {
//jQuery('.item:nth-child(3)').attr( 'data-ss-colspan','2' );
//jQuery('.item:nth-child(3)').removeClass('four').addClass('eight');



	startW = $('.item').outerWidth();

	  // Bind the resize event. When the window size changes, update its corresponding
	  // info div.
	  $(window).resize(function(){

		  $( ".portContent" ).position({
			  my: "center",
			  at: "center",
			  of: "body"
		  });

		var pW = $('.item').outerWidth();

		console.log( 'startWIDTH' + startW );
	    console.log( 'WIDTH' + pW );
	    if ( startW !==  pW ) {
			shift();
			//console.info('SHIFT');

		}
	    else if ( startW ==  pW ) {
	    	shift();
		}
	    else {
	    	return;
	    }
	  });

	  // Updates the info div immediately.
	  $(window).resize();



// END doc ready func
});





function shift(){
	columnW = jQuery('.four.columns').width();
	//console.log('column width '+columnW);

	jQuery('.portContent').shapeshift({
		selector: "li",
		align: "left",
		colWidth: columnW,
		//minColumns: 4,
	    gutterX: 20,
	    gutterY: 20,
	    paddingX: 0,
	    paddingY: 0,
	    animateOnInit: true,
	    enableResize: false
	});
}

shift();


// END ready func
//});







var stage;

function handleAnimation() {

//find canvas and load images, wait for last image to load
var canvas = document.getElementById("testCanvas");

// create a new stage and point it at our canvas:
stage = new createjs.Stage(canvas);

//a.1
a1_group = new createjs.Container();
a1_maskParent = new createjs.Container();

a1_mask = new createjs.Shape();
a1_mask.graphics.f("red").p("ADwTYIjwAAILGzYILQTYIvAAAIB4jSIHgAAIlopsInWM+").cp();
a1_mask.x = 0;
a1_mask.y = 0;
a1_mask.alpha = .3;
a1_mask.cache(0, 0, 200, 200);
a1_maskParent.addChild(a1_mask);

a1_1 = new createjs.Shape();
a1_1.graphics.f("rgba(96,255,0,254)").p("ALGAAIrGTYIDwAAIHWs+IAAma").cp().ef();
a1_1.x = -70;
a1_1.y = 125;
a1_1.cache(0, 0, 80, 135);
a1_group.addChild(a1_1);

a1_2 = new createjs.Shape();
a1_2.graphics.f("rgba(96,255,0,254)").p("AQuQGIlopsIAAmaILQTYIlojS").cp().ef();
a1_2.x = -72;
a1_2.y = -122;

a1_2.cache(0, 0, 144, 135);
a1_group.addChild(a1_2);

a1_3 = new createjs.Shape();
a1_3.graphics.f("rgba(96,255,0,254)").p("AWWTYIvAAAIB4jSIHgAAIFoDS").cp();
a1_3.x = 100;
a1_3.y = 0;
a1_3.cache(0, 0, 150, 150);
a1_group.addChild(a1_3);

//define mask
a1_group.mask = a1_mask;
//add shape group to stage
stage.addChild(a1_group);
//cant add/render the mask to stage if you want it to work (comment out)
//stage.addChild(a1_maskParent);

// END a.1


//l.1
l1_group = new createjs.Container();
l1_maskParent = new createjs.Container();

l1_mask = new createjs.Shape();
l1_mask.graphics.f("rgba(96,255,0,254)").p("AHCIIIJOQaIDwAAIpYwaIjmAA").cp().ef();
l1_mask.x = 55;
l1_mask.y = -34;
l1_mask.alpha = .3;
l1_mask.cache(0, 0, 150, 200);
l1_maskParent.addChild(l1_mask);

l1 = new createjs.Shape();
l1.graphics.f("rgba(96,255,0,254)").p("AHCIIIJOQaIDwAAIpYwaIjmAA").cp().ef();
l1.x = 55;
l1.y = -34;
l1.cache(0, 0, 150, 200);
l1_group.addChild(l1);

l1_group.mask = l1_mask;
stage.addChild(l1_group);
//END l.1

//e.1
e1_group = new createjs.Container();
e1_maskParent = new createjs.Container();

e1_mask = new createjs.Shape();
e1_mask.graphics.f("rgba(96,255,0,254)").p("AMWF8Ii+FKIhki0IEsoIIjIAAIleAAIj6AAIJYQaIGGqoIjIAA").cp().p("AEiC0IDSAAIhkC0Ihui0").cp().ef();
//e1_mask.alpha = .5;
e1_mask.cache(0, 0, 200, 200);
//e1_maskParent.addChild(e1_mask);

e1_1 = new createjs.Shape();
e1_1.graphics.f("rgba(96,255,0,254)").p("AMWF8Ii+FKIAAAAIAAFUIAAAKIGGqoIjIAA").cp().ef();
e1_1.x = 40;
e1_1.y = -72;
e1_1.cache(0, 0, 100, 110);
//el_1.alpha = 1;
e1_group.addChild(e1_1);

e1_2 = new createjs.Shape();
e1_2.graphics.f("rgba(96,255,0,254)").p("AEiC0IAAgKIkiiqIJYQaIAAlUIk2oS").cp().ef();
e1_2.x = 60;
e1_2.y = 105;
e1_2.cache(0, 0, 144, 135);
e1_group.addChild(e1_2);

e1_3 = new createjs.Shape();
e1_3.graphics.f("rgba(96,255,0,254)").p("AJYAKIleAAIj6AAIEiCqIDcAAIEsiqIjSAA").cp().ef();
e1_3.x = -82;
e1_3.y = 0;
e1_3.cache(0, 0, 150, 150);
e1_group.addChild(e1_3);

e1_4 = new createjs.Shape();
e1_4.graphics.f("rgba(96,255,0,254)").p("AJiAKIjSFoIAAFUIGQq8Ii+AA").cp().ef();
e1_4.x = 40;
e1_4.y = -70;
e1_4.cache(0, 0, 150, 150);
e1_group.addChild(e1_4);

e1_mask.x = e1_group.x = 150;
e1_mask.y = e1_group.y = 40;

//define mask
e1_group.mask = e1_mask;
//e1_group.x = 0;
//add shape group to stage
stage.addChild(e1_group);

//cant add/render the mask to stage if you want it to work (comment out)
//stage.addChild(e1_maskParent);

// END e1


// x.1
x1_group = new createjs.Container();
x1_maskParent = new createjs.Container();

x1_mask = new createjs.Shape();
x1_mask.graphics.f("rgba(96,255,0,254)").p("AMgEYICqkYIjwAAIjmGGIAAAAIAAAKIhkigIjmAAIDSFyIl8KeIDmAAIEOnWICMD6IDmAAIj6nCIC0lK").cp().ef();
x1_mask.x = 0;
x1_mask.y = 0;
x1_mask.alpha = .5;
x1_mask.cache(0, 0, 200, 200);
x1_maskParent.addChild(x1_mask);


x1_1 = new createjs.Shape();
x1_1.graphics.f("rgba(96,255,0,254)").p("AGQDmIjmAAIHWM0IDmAAInWs0").cp().ef();
x1_1.x = -48;
x1_1.y = -84;
x1_1.cache(0, 0, 100, 110);
x1_group.addChild(x1_1);

x1_2 = new createjs.Shape();
x1_2.graphics.f("rgba(96,255,0,254)").p("APKAAIjwAAIjmGGIAAAAIn0N6IDmAAII6voICqkY").cp().ef();
x1_2.x = -75;
x1_2.y = 130;
x1_2.cache(0, 0, 100, 140);
x1_group.addChild(x1_2);

x1_mask.x = x1_group.x = 230;
x1_mask.y = x1_group.y = 18;

//define mask
x1_group.mask = x1_mask;

//add shape group to stage
stage.addChild(x1_group);

//cant add/render the mask to stage if you want it to work (comment out)
//stage.addChild(x1_maskParent);

// END x1








//a.2
a2_group1 = new createjs.Container();
a2_group2 = new createjs.Container();
a2_maskParent1 = new createjs.Container();
a2_maskParent2 = new createjs.Container();

a2_mask1 = new createjs.Shape();
a2_mask1.graphics.f("rgba(86,251,164,254)").p("ALGGQIAAAAIAAmGIrGTOIGQAAIBujIIiqAAIFyqA").cp().ef();

a2_mask1.x = 0;
a2_mask1.y = 0;
//a2_mask1.alpha = .3;
a2_mask1.cache(0, 0, 800, 200);
a2_maskParent1.addChild(a2_mask1);

a2_mask2 = new createjs.Shape();
a2_mask2.graphics.f("rgba(86,251,164,254)").p("ABGGQIFyKAIlKAAIhuDIIMWAAIrQzYIAAAAIAAGQ").ef();
a2_mask2.x = 0;
a2_mask2.y = 0;
a2_mask2.alpha = .3;
a2_mask2.cache(0, 0, 800, 200);
a2_maskParent2.addChild(a2_mask2);

a2_1 = new createjs.Shape();
a2_1.graphics.f("rgba(96,255,0,254)").p("AFUQQIlUDIIAAAAIAAAAIGQAAIB4jIIi0AAIAAAA").cp().ef();

a2_1.x = 42;
a2_1.y = 0;
a2_1.cache(0, 0, 80, 135);
a2_group1.addChild(a2_1);

a2_2 = new createjs.Shape();
a2_2.graphics.f("rgba(96,255,0,254)").p("ALGGQIAAmQIrGTYIAAAAIFUjI").ef();
a2_2.x = -72;
a2_2.y = 125;
a2_2.cache(0, 0, 144, 135);
a2_group1.addChild(a2_2);

a2_3 = new createjs.Shape();
a2_3.graphics.f("rgba(96,255,0,254)").p("ALGGQIFyKAIFUC+IrGzOIAAAKIAAGGIAAAA").cp().ef();
a2_3.x = -68;
a2_3.y = -122;
//a2_3.alpha = .3;
a2_3.cache(0, 0, 150, 160);
a2_group2.addChild(a2_3);

a2_4 = new createjs.Shape();
a2_4.graphics.f("rgba(96,255,0,254)").p("ALuQQIhuDIIMWAAIlejI").ef();

a2_4.x = 80;
a2_4.y = 0;
a2_4.cache(0, 0, 150, 150);
a2_group2.addChild(a2_4);

a2_mask1.x = 304;
a2_group1.x = 304;
a2_mask1.y = a2_group1.y = 0;
a2_mask2.x = 368;
a2_group2.x = 304;
a2_mask2.y = a2_group2.y = 0;
//define mask
a2_group1.mask = a2_mask1;
a2_group2.mask = a2_mask2;
//add shape group to stage
stage.addChild(a2_group1);
stage.addChild(a2_group2);
//cant add/render the mask to stage if you want it to work (comment out)
//stage.addChild(a2_maskParent1);
//stage.addChild(a2_maskParent2);

//END a.2



//l.2
l2_group = new createjs.Container();
l2_maskParent = new createjs.Container();

l2_mask = new createjs.Shape();
l2_mask.graphics.f("rgba(96,255,0,254)").p("AHCIIIJOQaIDwAAIpYwaIjmAA").cp().ef();
l2_mask.x = 0;
l2_mask.y = 0;
l2_mask.alpha = .3;
l2_mask.cache(0, 0, 150, 200);
l2_maskParent.addChild(l2_mask);

l2 = new createjs.Shape();
l2.graphics.f("rgba(96,255,0,254)").p("AHCIIIJOQaIDwAAIpYwaIjmAA").cp().ef();
l2.x = -60;
l2.y = -110;
l2.cache(0, 0, 150, 200);
l2_group.addChild(l2);

l2_mask.x = l2_group.x = 352;
l2_mask.y = l2_group.y = -34;

l2_group.mask = l2_mask;
stage.addChild(l2_group);
//stage.addChild(l2_maskParent);
//END l.2





//a.2
o1_group = new createjs.Container();
o1_maskParent = new createjs.Container();

o1_mask = new createjs.Shape();
o1_mask.graphics.f("red").p("AAABaIJiQaIJiwaIiqAAIwaAA").cp().p("AOOEYIksIIIk2oSIJsAAIgKAKIAAAA").cp().ef();
o1_mask.x = 0;
o1_mask.y = -18;
o1_mask.alpha = .3;
o1_mask.cache(0, 0, 800, 200);
o1_maskParent.addChild(o1_mask);

o1_1 = new createjs.Shape();
o1_1.graphics.f("rgba(96,255,0,254)").p("ADIBaIH+NwIhkCqIpiwaIDIAA").cp().ef();
o1_1.x = -62;
o1_1.y = -105;
o1_1.cache(0, 0, 150, 150);
o1_group.addChild(o1_1);

o1_2 = new createjs.Shape();
o1_2.graphics.f("rgba(96,255,0,254)").p("AH+PAIBkC0IJiwaIAAAAIi+AAIoINm").cp().ef();

o1_2.x = -62;
o1_2.y = 108;
o1_2.cache(0, 0, 150, 150);
o1_group.addChild(o1_2);

o1_3 = new createjs.Shape();
o1_3.graphics.f("rgba(96,255,0,254)").p("ARWEOIBki0IAAAAIigAAIwaAAIBuC0IPoAA").cp().ef();

o1_3.x = 122;
o1_3.y = 0;
o1_3.cache(0, 0, 150, 150);
o1_group.addChild(o1_3);

o1_mask.x = o1_group.x = 442;
o1_mask.y = o1_group.y = 31;

//define mask
o1_group.mask = o1_mask;
//add shape group to stage
stage.addChild(o1_group);
//cant add/render the mask to stage if you want it to work (comment out)
//stage.addChild(o1_maskParent);

//END o1





//i.2
i1_group = new createjs.Container();
i1_maskParent = new createjs.Container();

i1_mask = new createjs.Shape();
i1_mask.graphics.f("rgba(96,255,0,254)").p("AHWDmInWM+IDwAAIHWs+IjwAA").cp().ef().f("rgba(96,255,0,254)").p("AJYAAIg8BuIDwAAIA8huIjwAA").cp().ef();
i1_mask.x = 0;
i1_mask.y = 0;
i1_mask.alpha = .3;
i1_mask.cache(0, 0, 150, 200);
i1_maskParent.addChild(i1_mask);

i1 = new createjs.Shape();
i1.graphics.f("rgba(96,255,0,254)").p("AHWDmInWM+IDwAAIHWs+IjwAA").cp().ef().f("rgba(96,255,0,254)").p("AJYAAIg8BuIDwAAIA8huIjwAA").cp().ef();
i1.x = -62;
i1.y = 110;
i1.cache(0, 0, 150, 200);
i1_group.addChild(i1);

i1_mask.x = i1_group.x = 525;
i1_mask.y = i1_group.y = 17;

i1_group.mask = i1_mask;
stage.addChild(i1_group);
//stage.addChild(i1_maskParent);
//END i.1




//a.3
a3_group1 = new createjs.Container();
a3_maskParent1 = new createjs.Container();
a3_group2 = new createjs.Container();
a3_maskParent2 = new createjs.Container();

a3_mask1 = new createjs.Shape();
a3_mask1.graphics.f("red").p("AWWTYIvAAAIB4jSIHgAAIFoDS").cp();
a3_mask1.x = -1;
a3_mask1.y = 0;
a3_mask1.alpha = .3;
a3_mask1.cache(0, 0, 800, 200);
a3_maskParent1.addChild(a3_mask1);

a3_mask2 = new createjs.Shape();
a3_mask2.graphics.f("red").p("ADwTYIjwAAILGzYILQTYIvAAAIB4jSIHgAAIlopsInWM+").cp();
a3_mask2.x = 0;
a3_mask2.y = -0;
a3_mask2.alpha = .3;
a3_mask2.cache(0, 0, 800, 200);
a3_maskParent2.addChild(a3_mask2);

a3_3 = new createjs.Shape();
a3_3.graphics.f("rgba(96,255,0,254)").p("AWWTYIvAAAIB4jSIHgAAIFoDS").cp();
a3_3.x = -95;
a3_3.y = 0;
a3_3.cache(0, 0, 150, 150);
a3_group1.addChild(a3_3);

a3_2 = new createjs.Shape();
a3_2.graphics.f("rgba(96,255,0,254)").p("AQuQGIlopsIAAmaILQTYIlojS").cp().ef();
a3_2.x = 73;
a3_2.y = 126;
a3_2.cache(0, 0, 144, 135);
a3_group2.addChild(a3_2);

a3_1 = new createjs.Shape();
a3_1.graphics.f("rgba(96,255,0,254)").p("ALGAAIrGTYIDwAAIHWs+IAAma").cp().ef();
a3_1.x = 72;
a3_1.y = -124;
a3_1.cache(0, 0, 80, 135);
a3_group2.addChild(a3_1);

a3_mask1.x = a3_group1.x = 700;
a3_mask1.y = a3_group1.y = 0;
a3_mask2.x = a3_group2.x = 700;
a3_mask2.y = a3_group2.y = 0;
a3_mask1.scaleX = a3_group1.scaleX = -1;
a3_mask2.scaleX = a3_group2.scaleX = -1;


//a3_mask.scaleY = a3_group.scaleY = 0.85;
//a3_group.scaleX = -1;

//define mask
a3_group1.mask = a3_mask1;
a3_group2.mask = a3_mask2;
//add shape group to stage
stage.addChild(a3_group1);
stage.addChild(a3_group2);
//cant add/render the mask to stage if you want it to work (comment out)
//stage.addChild(a3_maskParent1);
//stage.addChild(a3_maskParent2);

// END a.3



createjs.Ticker.addEventListener("tick", tick);
  animationTL();
}


function animationTL() {
	// create main timeline
	var logo_TL = new TimelineLite();
	logo_TL.pause();

	// a1 timeline
	var a1_TL = new TimelineLite();
	// a1 tweens
	a1_TL.add( TweenLite.from(a1_1, 0.5, {alpha:0, ease:Power2.easeIn}), 0);
	a1_TL.add( TweenLite.to(a1_1, 0.5, {x:0, y:0, ease:Power1.easeIn}), 0);
	a1_TL.add( TweenLite.to(a1_2, 0.5, {x:0, y:0}), 0.5);
	a1_TL.add( TweenLite.to(a1_3, 0.5, {x:1, y:0}), 1);

	// l1 timeline
	var l1_TL = new TimelineLite();
	// l1 tweens
	l1_TL.add( TweenLite.from(l1, 0.5, {alpha:0, ease:Power2.easeIn}), 0);
	l1_TL.add( TweenLite.from(l1, 0.6, {x:-4, y:-140, ease:Power1.easeIn}), 0);

	// e1 timeline
	var e1_TL = new TimelineLite();
	// e1 tweens
	e1_TL.add( TweenLite.from(e1_1, 0.4, {alpha:0, ease:Power2.easeIn}), 0);
	e1_TL.add( TweenLite.to(e1_1, .4, {x:0, y:0, ease:Power1.easeIn}), 0);

//	e1_TL.add( TweenLite.from(e1_2, 0.4, {alpha:0, ease:Power2.easeIn}), 0);
	e1_TL.add( TweenLite.to(e1_2, .5, {x:0, y:0}), 0.4);
	e1_TL.add( TweenLite.to(e1_3, .4, {x:0, y:0}), 0.7);
	e1_TL.add( TweenLite.to(e1_4, .4, {x:0, y:0}), 1.1);

	// x1 timeline
	var x1_TL = new TimelineLite();
	// x1 tweens
	x1_TL.add( TweenLite.from(x1_2, 0.5, {alpha:0, ease:Power2.easeIn}), 0);
	x1_TL.add( TweenLite.to(x1_2, 0.6, {x:0, y:0, ease:Power1.easeIn}), 0);

	x1_TL.add( TweenLite.from(x1_1, 0.5, {alpha:0, ease:Power2.easeIn}), 0);
	x1_TL.add( TweenLite.to(x1_1, 0.6, {x:0, y:1, ease:Power1.easeIn}), 0.4);

	// a2 timeline
	var a2_TL = new TimelineLite();
	// a2 tweens
	a2_TL.add( TweenLite.from(a2_1, 0.3, {alpha:0, ease:Power2.easeIn}), 0);
	a2_TL.add( TweenLite.to(a2_1, 0.3, {x:-1, y:0}), 0);
	a2_TL.add( TweenLite.to(a2_2, 0.5, {x:0, y:0}), 0.3);
	a2_TL.add( TweenLite.to(a2_3, 0.5, {x:0, y:0}), 0.8);
	a2_TL.add( TweenLite.to(a2_4, 0.5, {x:2, y:0}), 1.5);

	// l2 timeline
	var l2_TL = new TimelineLite();
	// l2 tweens
	l2_TL.add( TweenLite.from(l2, 0.3, {alpha:0, ease:Power2.easeIn}));
	l2_TL.insert( TweenLite.to(l2, 0.5, {x:0, y:0}));
	logo_TL.insert(l2_TL);

	// o1 timeline
	var o1_TL = new TimelineLite();
	// o1 tweens
	o1_TL.add( TweenLite.to(o1_1, 0.4, {x:0, y:0}), 0);
	o1_TL.add( TweenLite.to(o1_2, 0.5, {x:0, y:0}), .5);
	o1_TL.add( TweenLite.to(o1_3, 0.5, {x:0, y:0}), 1);

	// i1 timeline
	var i1_TL = new TimelineLite();
	// i1 tweens
	i1_TL.add( TweenLite.from(i1, 0.3, {alpha:0, ease:Power2.easeIn}), 0);
	i1_TL.insert( TweenLite.to(i1, 0.5, {x:0, y:0}));

	// a3 timeline
	var a3_TL = new TimelineLite();
	// a3 tweens
	a3_TL.add( TweenLite.from(a3_3, 0.5, {alpha:0, ease:Power2.easeIn}), 0);
	a3_TL.add( TweenLite.to(a3_3, 0.5, {x:0, y:0}), 0);
	a3_TL.add( TweenLite.to(a3_2, 0.5, {x:0, y:1}), .5);
	a3_TL.add( TweenLite.to(a3_1, 0.5, {x:0, y:0}), 1);

	// play MAIN timeline
	logo_TL.insert([a1_TL], 0);
	logo_TL.insert([l1_TL], 1);
	logo_TL.insert([e1_TL], 2);
	logo_TL.insert([x1_TL], 3);
	logo_TL.insert([a2_TL], 4);
	logo_TL.insert([l2_TL], 5);
	logo_TL.insert([o1_TL], 6);
	logo_TL.insert([i1_TL], 7);
	logo_TL.insert([a3_TL], 8);

	logo_TL.play();

}

function tick(event) {
		stage.update(event);
	    //container.update(event);
	    //e1.updateCache();
}



window.onload = function() {
	  //handleAnimation();

}


jQuery(document).ready(function() {
	gridOvrlay();
});



/* (function() {
	var canvas = this.__canvas = new fabric.StaticCanvas('c');

	  canvas.add(
	    new fabric.Rect({ top: 100, left: 100, width: 50, height: 50, fill: '#f55' }),
	    new fabric.Circle({ top: 140, left: 230, radius: 75, fill: 'green' }),
	    new fabric.Triangle({ top: 300, left: 210, width: 100, height: 100, fill: 'blue' })
	  );

	  function animate() {
	    canvas.item(3).animate('top', canvas.item(0).getTop() === 500 ? '100' : '500', {
	      duration: 1000,
	      onChange: canvas.renderAll.bind(canvas),
	      onComplete: animate
	    });
	  }
	  animate();
	})(); */

